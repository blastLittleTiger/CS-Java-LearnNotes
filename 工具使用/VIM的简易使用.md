### VIM的简易使用
***

##### 移动光标
- ###### 单位级
  - h 向左一字符
  - j 下一行
  - k 上一行
  - l 向右一字符

- ###### 块级
  - gg 到文档第一行
  - G 到文档最后一行
  - $ 到行尾
  - Ctrl-f 向下移动一页(forword)
  - Ctrl-b 向上移动一页(back)
  - Ctrl+u  在文件之中向上移动半页(up)
  - Ctrl+d  在文件之中向下移动半页(down)
  - :\<N\> or \<N\>gg 跳转到第 N 行
  - :+\<N\> or \<N\>j 向下跳 N 行
  - :-\<N\> or \<N\>k 向上跳 N 行

> 注意：所有命令前都可以加一个数字 N，表示对后面的命令执行 N 次，例如你想向下移动 3 行，除了 可以用 :3 之外，还可以用 3j 来实现同样的效果。另外，上面实际上有两种命令：一种是键入后 立即执行的，比如 gg；还有一种是先输入 : 的（后面还会出现先按 / 的），这类命令需要在 输入完成后按回车执行，后面的教程中也是一样。现在你可以在当前文件中畅游了，当你熟悉了各种移动操作后就可以通过 G 定位到当前文档到最后 一行。



##### 文档内查找
- ###### 前后查找
  - \* 向后查找光标当前所在单词
  - \# 向前查找光标当前所在单词
  - /<search> 向后查找指定字符串
  - ?<search> 向前查找指定字符串
  - n 继续查找下一个
  - N 继续查找上一个

- ###### 目录树
使用 :Ex 命令, 显示目录



##### 修改文档
现在已经学会了控制光标、打开文件、切换文件、并在文件中查找内容，这些操作都是在 vim 的 normal 模式下进行的。现在，是时候进入 vim 的另外一种模式 —— insert 模式，学习一下如何修改文件了。
- ###### 插入
  - i 当前字符前插入
  - a 当前字符后插入
  - I 行首插入
  - A 行尾插入
  - o 在下一行插入
  - O 在上一行插入

> 注意：以上任何一个命令都会使 vim 进入 insert 模式，进入该模式后光标会发生变化，这时输入的 文字会直接出现在文档中，按 Esc 键或 Ctrl-[ 或 Ctrl-C 退出 insert 模式。

- ###### 删除(并保存到 vim 剪贴板)
  - x 删除当前字符，相当于 insert 模式下的 Delete
  - X 删除前一个字符，相当于 insert 模式下的 Backspace
  - dd 删除当前行，并将删除的内容保存到 vim 剪贴板
  - d<X> 删除指定内容并保存到 vim 剪贴板
  - c<X> 删除指定内容并保存到 vim 剪贴板，同时进入 insert 模式
> *说明： <X> 部分是对操作内容的描述，如果要删除一个单词，就输入 dw 或者 de，要复制当前 位置到行尾的内容，就输入 y$，要删除后面 3 个字符并插入，就输入 c3l 诸如此类。*

- ###### 复制
  - `yy` 复制当前行到 vim 剪贴板
  - `y<X>` 复制指定内容到 vim 剪贴板

- ###### 粘贴
  - `p` 在当前位置后粘贴
  - `P` 在当前位置前粘贴

- ###### 合并
  - `J` 将当前行与下一行合并
> 尝试在下面的文本中进行复制粘贴练习
```
删除这一行
粘贴到这一行下面
剪切 ABC 并把它粘贴到 XYZ 前面，使这部分内容看起来像
剪切 并把它粘贴到 ABC XYZ 前面。
```

- ###### 替换
  - `r<X>` 将当前字符替换为 X
  - `gu<X>` 将指定的文本转换为小写
  - `gU<X>` 将指定的文本转换为大写
  - `:%s/<search>/<replace>/` 查找 search 内容并替换为 replace 内容
> 尝试修改下列文本的大小写
```
Change this line to UPPERCASE, THEN TO lowercase.
```
> 还有个更好玩的命令 `g~<X>`，先将光标定位到上面那行文本，执行 `0g~$` 看看发生了什么。

- ###### 撤销、重做
  - u 撤销
  - Ctrl-r 重做

- ###### 保存文件
  - :w 保存当前文件
  - :wa 保存全部文件
  - :wq or ZZ 保存并退出
  - :q! or ZQ 强制退出，不保存
  - :saveas <new filename> 文件另存为
  - :w <new filename> 文件另存一份名为 <new filename> 的副本并继续编辑原文件

- ###### 缩进
  - \>\> 向右缩进当前行
  - << 向左缩进当前行
  >在这一行上依次按 3>>，<< 和 <G 看看效果

- ###### 自动排版
  - \== 自动排版当前行
  - gg=G 当前文档全文自动排版
  - <N>\== 对从当前行开始的 N 行进行自动排版



##### 窗口分屏
工作中经常会遇到这种情况，就是需要参照其他文档编辑当前文档（场景：翻译），或者从另外一个文档 copy 代码到当前文档（场景：复制 html 元素类名到 css 文档），这时候就是你最需要分屏的时候。
- ###### 分屏方式
  - :split 缩写 :sp or Ctrl-w s 上下分屏
  - :vsplit 缩写 :vs or Ctrl-w v 左右分屏
  - :diffsplit 缩写 :diffs diff 模式打开一个分屏，后面可以加上 {filename}
  - Ctrl-w c:关闭当前窗口
  - Ctrl-w q:关闭当前窗口，如果只剩最后一个了，则退出Vim。


- ###### 窗口跳转
  - Ctrl-w w 激活下一个窗口
  - Ctrl-w j 激活下方窗口
  - Ctrl-w k 激活上方窗口
  - Ctrl-w h 激活左侧窗口
  - Ctrl-w l 激活右侧窗口

- ###### 屏幕缩放
  - Ctrl-w = 平均窗口尺寸
  - Ctrl-w + 增加高度
  - Ctrl-w - 缩减高度
  - Ctrl-w _ 最大高度
  - Ctrl-w > 增加宽度
  - Ctrl-w < 缩减宽度
  - Ctrl-w | 最大宽度



##### 标签页
标签页则更适合多文件之间的切换。
- ###### 创建标签页
  - :tabnew or :tabedit 缩写 :tabe 打开新标签页
  - Ctrl-w gf 在新标签页中打开当前光标所在位置的文件名
>注意：:tabnew 和 :tabedit 后面都可以跟一个 <空格><文件名> 用以在新标签页中 打开指定文件，还可以在 : 后面加一个数字，指出新标签页在列表中的位置（从 0 开始）。

- ###### 切换标签页
  - gt or :tabnext 缩写 :tabn 下一个标签页（最后一个会循环到第一个）
  - gT or :tabprevious 缩写 :tabp 上一个标签页（第一个会循环到最后一个）
  - :tabrewind 缩写 :tabr or :tabfirst 缩写 :tabfir 到第一个
  - :tablast 缩写 :tabl 到最后一个标签页

- ###### 关闭标签页
  - :tabclose 缩写 :tabc 关闭当前标签页
  - :-tabc 关闭上一个标签页
  - :+tabc 关闭下一个标签页
  - :tabonly 缩写 :tabo 关闭其他标签页



ref:
1.[SpaceVim的基本安装和常见问题](https://www.cnblogs.com/zhuxiaoxi/p/8433157.html),   2.[**learn-vim**](https://github.com/prayjourney/learn-vim)

